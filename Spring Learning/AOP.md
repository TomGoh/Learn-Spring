# AOP

## AOP 基本概念

AOP 面向切面编程Aspect Oriented Programming

利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性。

即不修改原代码，在主干中添加新的功能模块

## AOP底层原理

AOP底层使用**动态代理**

动态代理有两种情况

1. 有接口的情况

   使用JDK动态代理

2. 没有接口的情况

   使用CGLIB动态代理

## AOP术语

**连接点**

类中可以被增强的方法

**切入点**

实际被真正增强的方法

**通知（增强）**

方法实际上被增强的逻辑部分

包括以下几种类型：

- 前置通知 
- 后置通知
- 环绕通知
- 异常通知 
- 最终通知

**切面** 

将通知应用到切入点的过程

## AOP操作（准备）

基于AspectJ实现Spring AOP：

- 基于XML配置文件实现
- 基于注解方式实现

切入点表达式

作用：知晓对于哪个类中的哪个方法进行增强。

语法：

```Java
execution([权限修饰符][返回类型][类全路径][方法名称][参数列表])
```

## 基于Annotation的AOP

1. 创建类，设置需要增强的方法
2. 创建增强类，编写增强的逻辑
3. 进行通知配置
   1. 在Spring配置文件中开启注解扫描
   2. 使用注解创建对象
   3. 在增强类上添加注解

## 基于XML的AOP

1. 创建类，包括增强类和被增强的类，创建需要被增强的方法。
2. 在Spring配置文件中创建两个类的对象
3. 在Spring配置文件中配置切入点

